[{"/home/abubakar/Desktop/KeyStore-Thorchain/src/index.js":"1","/home/abubakar/Desktop/KeyStore-Thorchain/src/reportWebVitals.js":"2","/home/abubakar/Desktop/KeyStore-Thorchain/src/App.js":"3","/home/abubakar/Desktop/KeyStore-Thorchain/src/environments.js":"4","/home/abubakar/Desktop/KeyStore-Thorchain/src/services/midgard.service.js":"5"},{"size":500,"mtime":1634639043422,"results":"6","hashOfConfig":"7"},{"size":362,"mtime":1634639043422,"results":"8","hashOfConfig":"7"},{"size":14177,"mtime":1635766811942,"results":"9","hashOfConfig":"7"},{"size":215,"mtime":1634639043422,"results":"10","hashOfConfig":"7"},{"size":2232,"mtime":1635666066534,"results":"11","hashOfConfig":"7"},{"filePath":"12","messages":"13","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"14"},"1yatu9n",{"filePath":"15","messages":"16","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"14"},{"filePath":"17","messages":"18","errorCount":0,"warningCount":17,"fixableErrorCount":0,"fixableWarningCount":1,"source":"19"},{"filePath":"20","messages":"21","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"14"},{"filePath":"22","messages":"23","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"24","usedDeprecatedRules":"14"},"/home/abubakar/Desktop/KeyStore-Thorchain/src/index.js",[],["25","26"],"/home/abubakar/Desktop/KeyStore-Thorchain/src/reportWebVitals.js",[],"/home/abubakar/Desktop/KeyStore-Thorchain/src/App.js",["27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43"],"import { generatePhrase, encryptToKeyStore ,decryptFromKeystore} from '@xchainjs/xchain-crypto'\nimport React, { Component, useEffect } from \"react\";\nimport { Button, Container, Header, Segment, Grid } from 'semantic-ui-react';\nimport './App.css';\nimport {Network} from '@xchainjs/xchain-client';\nimport { Client as binanceClient } from '@xchainjs/xchain-binance';\nimport { Client as bitcoinClient } from '@xchainjs/xchain-bitcoin';\nimport { Client as thorchainClient } from '@xchainjs/xchain-thorchain';\nimport { Client as ethereumClient } from '@xchainjs/xchain-ethereum/lib';\nimport { Client as litecoinClient } from '@xchainjs/xchain-litecoin';\nimport { Client as bitcoinCashClient } from '@xchainjs/xchain-bitcoincash';\nimport { AssetRuneNative, BaseAmount, assetAmount, assetToBase, baseAmount, AssetETH, AssetBNB ,assetFromString} from '@xchainjs/xchain-util'\nimport * as types from '@xchainjs/xchain-util';\nimport * as asset from '@xchainjs/xchain-util';\nimport { MidgardService } from './services/midgard.service';\nimport {environment} from './environments';\nimport {Client as PolkadotClient} from '@xchainjs/xchain-polkadot';\nimport BigNumber from 'bignumber.js';\nimport Swap from '@binance-chain/javascript-sdk/lib/client/swap';\n\nfunction App() {\n  const [response, setResponse] = React.useState(\"\")\n  const [input, setInput] = React.useState(\"\")\n  const [fileKeyStore , setfileKeyStore] = React.useState(\"\")\n\n\n\n// Asset modueles coming from here \nlet ass = asset;\nconsole.log(\"Assets Moduele I am here ============>\", ass);\nconsole.log(ass.assetAmount)\n\n\n\n\nlet key\n  let fileReader\n  let res\n  let phrase\n  // let userThorchainClient\n\n  //Generation of Random Phrase and Encryption is going on here \n  const keystore = async () => {\n    try {\n     phrase = generatePhrase()\n      console.log(phrase);\n      key = await encryptToKeyStore(phrase, input);\n      // console.log('key========>', key)\n      \n      /*File Downloading function is called here to download the Text File*/\n      downloadTextFile();\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  /*File creation and saving here*/ \n  const downloadTextFile = () => {\n    const element = document.createElement(\"a\");\n    console.log(\"keyy=====>>\",key)\n    const file = new Blob([JSON.stringify(key)], {\n      type: \"text/plain;charset=utf-8\"\n    });\n    element.href = URL.createObjectURL(file);\n    element.download = \"Thor_Custom_Keystore\";\n    document.body.appendChild(element);\n    element.click();\n  }\n  \n  //File Decryption is going here\n  const decryptKeyStore = async () => {\n    fileReader = new FileReader();\n    fileReader.onloadend = handleFileRead;\n    fileReader.readAsText(fileKeyStore);\n    };\n\n    //send Transaction\n    const sendTransaction = async ()=>{\n    const userEthereumClient = new ethereumClient({\n      network:'testnet',\n      phrase:res,\n      etherscanApiKey: environment.etherscanKey,\n      infuraCreds: { projectId: environment.infuraProjectId },\n    });\n    \n\n   \n  }\n\n  // const swapTransaction = async ()=>{\n  //   const userEthereumClient = new ethereumClient({\n  //     network:'testnet',\n  //     phrase:res,\n  //     etherscanApiKey: environment.etherscanKey,\n  //     infuraCreds: { projectId: environment.infuraProjectId },\n  //   });\n  //   console.log(\"User Ethereum Client: MidgardService---------------> \", userEthereumClient.getAddress());\n  //   const to_address= '0xf50dc8f6670b1c4f85565fc6dc8c316578a4fadd';\n  //   const send_amount = baseAmount(10000, 6);\n  //   const memo = 'swap:ETH.BNB:tbnb1ftzhmpzr4t8ta3etu4x7nwujf9jqckp3th2lh0'\n    \n  //   const result = await userEthereumClient.deposit({\n  //   asset: AssetBNB,\n  //   amount: send_amount,\n  //   memo,\n  //   })\n  //   console.log(result)      console.log('THORChain Balance: ---------------> ', balanceThor);\n  //   }\n\n    //File handiling is done here and getting the menomics after the decryption of the file data is done here\n    const handleFileRead = async (e) => {\n      const content = JSON.parse(fileReader.result);\n      console.log(\"content\", content);\n      res = await decryptFromKeystore(content, input);\n      console.log(\"decryption=====>\", res);\n\n\n      //Network is defined here for all the general networks \n      const network = environment.network === 'testnet' ? Network.Testnet : Network.Mainnet;\n      console.log(\"Enabled Network: ---------------> \", network)\n      //Binance Address is getting from here\n      const userBinanceClient = new binanceClient({ network, phrase:res });\n      let BinanceClientAddress= userBinanceClient.getAddress();\n      console.log(\"User Binance Client address: ---------------> \",BinanceClientAddress);\n      //Transactions history of Binance Client getting here \n      \n      const BinanceBalance = await userBinanceClient.getBalance(BinanceClientAddress);\n\n\n      console.log('Binance Balance: ---------------> ', BinanceBalance);\n      // for(let i = 0; i< BinanceBalance.length ; i++){\n      //   console.log('Binance Balance: ---------------> ', BinanceBalance[i].amount.amount());\n      // }\n      const transationResultOfBinanceClient= await userBinanceClient.getTransactions({address: BinanceClientAddress})\n      console.log(\"Transaction Data of Binance CLient\", transationResultOfBinanceClient);\n      \n        //Binance Transaction of swap \n\n            //Ethereum Transaction is doing here584849890757910104 \n\n\n      //Bitcoin Client is set here \n      const userBtcClient = new bitcoinClient({\n        network,\n        phrase:res,\n        sochainUrl: 'https://sochain.com/api/v2',\n        blockstreamUrl: 'https://blockstream.info',\n      });\n      //Bitcoin Client is Address generating from here\n      console.log(\"User Btc Client: ---------------> \", userBtcClient.getAddress())\n      let addressBtc = userBtcClient.getAddress();\n      console.log(\"BTC Address: ---------------> \",addressBtc);\n      //Balance of Bitcoin is getting from here\n      const balanceBtc = await userBtcClient.getBalance(addressBtc);\n      console.log(\"balance: ---------------> \", balanceBtc[0].amount.amount());\n      //Transactions history of BTC Client getting here \n      const transationResultOfBTCClient= await userBtcClient.getTransactions({address: addressBtc})\n      console.log(\"Transaction Data of BTC CLient\", transationResultOfBTCClient);\n\n\n\n\n\n      // const balances = bncBalances.map((balance) => {\n      //   const asset = assetFromString(`BNB.${balance.symbol}`);\n\n      //   return {\n      //     asset,\n      //     amount: assetToBase(assetAmount(balance.free, 8)),\n      //     frozenAmount: assetToBase(assetAmount(balance.frozen, 8)),\n      //   };\n      // });\n\n\n\n\n      //Thorchain Client is set here \n      const userThorchainClient = new thorchainClient({ network, phrase :res });\n      console.log(\"User Thorchain Client: ---------------> \",userThorchainClient);\n  \n\n      //Thorchain Address is generation from here \n      const thorAddress = await userThorchainClient.getAddress();\n      console.log(\"THORChain Address: ---------------> \", thorAddress);\n      \n      \n      // const Thorprovider = userThorchainClient.getProvider();\n      // const thoorbalance = await provider.getBalance(thorAddress);\n      // console.log(\"//////////////////////,,,,,,,,,,,,,,,,,,,,\",thoorbalance);\n\n      //Balance of THORChain is getting from here \"transfer\"\n      const balanceThor = await userThorchainClient.getBalance(thorAddress);\n    \n      for(let i = 0; i< balanceThor.length ; i++){\n        console.log('THORChain Balance: ---------------> ', balanceThor);\n        console.log('THORChain Balance: ---------------> ', balanceThor[i].amount.amount());\n      }\n      //Transactions history of Thorchain Client getting here \n      const transationResultOfTHORChain= await userThorchainClient.getTransactions({address: thorAddress})\n      console.log(\"Transaction Data of THORChain CLient\", transationResultOfTHORChain);\n      \n\n\n      // Ethereum CLinet is set here  \n      const userEthereumClient = new ethereumClient({\n        network:'testnet',\n        phrase:res,\n        etherscanApiKey: environment.etherscanKey,\n        infuraCreds: { projectId: environment.infuraProjectId },\n      });\n      // //Ethereum Client Address is generation from here\n      // console.log(\"User Ethereum Client: ---------------> \", userEthereumClient.getAddress());\n      //Ethereum CLient Provider is printing here\n      const provider = userEthereumClient.getProvider();\n      console.log(\"Ethereum Provider: ---------------> \",provider);\n      // //Ethereum Balance is getting from here\n\n      let addressEth = userEthereumClient.getAddress();\n      \n      const ethBalance = await provider.getBalance(addressEth);\n      // console.log(\"Ethereum Balance: ---------------> \", ethBalance.toString());\n     \n      console.log(\"Ethereum Address: ---------------> \", addressEth)\n      //Ethereum Client Balance is getting from here \n      const balance1eth = await userEthereumClient.getBalance(addressEth);\n      const assetofeth = await ass.AssetETH;\n  \n      for(let i = 0; i< balance1eth.length ; i++){\n        console.log('Ethereum Balance: ---------------> ', ethBalance);\n        // console.log(\"Ethereum Client Balance: ---------------> \",ethBalance[i].amount.amount());\n      }\n\n      console.log(\"Ethereum Assets is coming here ========>\", assetofeth);\n\n      \n\n\n     \n      //LTC Client is setup here \n      const userLtcClient = new litecoinClient({\n         network, \n         phrase:res \n        });\n      // LTC Client Address generation is done here\n      let addressLTC = userLtcClient.getAddress();\n      console.log(\"User LTC Client: ---------------> \",addressLTC);\n      //LTC Client Balance is getting from here \n      const balanceLTC = await userLtcClient.getBalance(addressLTC);\n      console.log(\"LTC Client Balance: ---------------> \",balanceLTC);\n      //Transactions history of LTC Client getting here \n      const transationResultOfLTC= await userLtcClient.getTransactions({address: addressLTC})\n      console.log(\"Transaction Data of LTC CLient\", transationResultOfLTC);\n\n\n\n      //BCH Client is setup here \n      const userbchClient = new bitcoinCashClient({ network,\n        phrase:res \n      });\n      //BCH Client Address generation is done here\n      let addressBCH =userbchClient.getAddress();\n      console.log(\"User BCH Client: ---------------> \",addressBCH);\n      //BCH Client Balance getting is done here\n      const balanceBCH = await userbchClient.getBalance(addressBCH);\n      console.log(\"LTC Client Balance: ---------------> \",balanceBCH);\n      //Transaction History of BCH Client getting here\n      const transationResultOfBCH= await userbchClient.getTransactions({address: addressBCH})\n      console.log(\"Transaction Data of LTC CLient\", transationResultOfBCH);\n\n      //PolkaDot Client is setup here\n      const userPolkaDotClient = new PolkadotClient({\n        network:'testnet',\n        phrase:res\n      });\n      console.log(\"User PolkaDot Client: ---------------> \", userPolkaDotClient.getAddress());\n\n\n  \n    //     poolName\n    //   )=> {\n    //     const asset = new Asset(poolName);\n    //     const assetAddress = asset.symbol.slice(asset.ticker.length + 1);\n    //     const strip0x =\n    //       assetAddress.substr(0, 2).toUpperCase() === '0X'\n    //         ? assetAddress.substr(2)\n    //         : assetAddress;\n    //     const checkSummedAddress = ethers.utils.getAddress(strip0x);\n    //     return {\n    //       chain: asset.chain,\n    //       ticker: asset.ticker,\n    //       symbol: `${asset.ticker}-${checkSummedAddress}`,\n    //     };\n    //   };\n\n\n    //   const pools = await this.midgardService.getPools().toPromise();\n    //   const ethTokenPools = pools\n    //     .filter((pool) => pool.asset.indexOf('ETH') === 0)\n    //     .filter((ethPool) => ethPool.asset.indexOf('-') >= 0);\n      \n    //   for (const token of ethTokenPools) {\n    //     // const tokenAsset = checkSummedAsset(token.asset);\n    //     // assetsToQuery.push(tokenAsset);\n    //   }\n    //  console.log(\"Poolssss here ------------------------>\",pools);\n\n\n//Inbound Addresses here for the pools \n\nconst pools = new MidgardService ;\n      \n      (async () => {\n        const {data} = await pools.getInboundAddresses()\n        console.log(\"Inbound Address coming from here ==========================>\", data);\n    })()\n\n\n\n\n\n\n    \n    const sendSwap = async ()=>{\n      console.log(\"User Bi Client: ---------------> \", userBinanceClient.getAddress());\n      const to_address = 'tthor1fcaf3n4h34ls3cu4euwl6f7kex0kpctkf5p8d7';\n      const send_amount = baseAmount(0.757998 * 1000000);\n      const Memo = '=:THOR.RUNE:tbnb1gr3zze7zkz2x6p08qnl88rhd22vpypmafeplr7:51921027111'\n      \n  \n      const result = await userBinanceClient.transfer({\n        asset: AssetBNB,\n        amount: send_amount,\n        recipient: to_address,\n        Memo,\n      })\n      return result\n    }\n  \n    (async() => {\n      console.log(\"i am here =======================>\",await sendSwap());\n    })()\n  \n\n\n\n};\n  \n  //Submit button to trigger the things \n  const SubmitAll=async()=>{\n  console.log(\"password====>\", typeof input);\n  console.log(\"fileKeyStroe====>\", typeof fileKeyStore);\n  decryptKeyStore()\n}\n\n\nreturn <>\n    <Container>\n      <Segment>\n        <div>\n          <h1>Thorchain Custom Keystore Maker</h1>\n          <h4>Enter your Password</h4>\n          <input id=\"input\" value={input} onChange={e => setInput(e.target.value)} />\n          <Button primary onClick={keystore}>Create KeyStore</Button>\n        </div>\n        <h1> Thorchain KeyStore Decryption </h1>\n        <div>\n          <h1>Enter your password</h1>\n       {/* // <input id=\"password\" value={input} onchange ={e=> setInput(e.target.value)}/> */}\n        </div>\n        \n        <div>\n        <input type=\"file\"onChange={((e)=>{\n          setfileKeyStore(e.target.files[0]);\n\n        })}/>\n                <button onClick={SubmitAll} >\n                  Upload!\n                </button>\n        </div>\n        \n        <button\n         onClick={sendTransaction}>\n         send Transaction\n        </button>\n\n        <button>\n         Swap\n        </button>\n\n      </Segment>\n    </Container>\n  </>;\n}\n\nexport default App;","/home/abubakar/Desktop/KeyStore-Thorchain/src/environments.js",[],"/home/abubakar/Desktop/KeyStore-Thorchain/src/services/midgard.service.js",["44","45"],"import { Observable } from 'rxjs';\n// import { HttpClient, HttpParams } from '@angular/common/http';\nimport { shareReplay } from 'rxjs/operators';\nimport { environment } from '../environments';\nimport axios from \"axios\"\n\nexport class MidgardService {\n   v2BasePath;\n   _thornodeBasePath;\n   _constants;\n   _mimir$;\n\n  constructor( http) {\n    this.v2BasePath =\n      environment.network === 'testnet'\n        ? 'https://testnet.midgard.thorchain.info/v2'\n        : 'https://midgard.thorchain.info/v2';\n\n    this._thornodeBasePath =\n      environment.network === 'testnet'\n        ? 'https://testnet.thornode.thorchain.info'\n        : 'https://thornode.thorchain.info';\n\n    // cached since constants are constant\n    this._constants$ = axios\n      .get(`${this.v2BasePath}/thorchain/constants`)\n      // .pipe(shareReplay());\n    this._mimir$ = axios\n      .get(`${this._thornodeBasePath}/thorchain/mimir`)\n      // .pipe(shareReplay());\n  }\n  /**\n   * V2 Endpoints\n   *\n   */\n\n  getConstants() {\n    return this._constants$;\n  }\n\n  getLastBlock() {\n    return axios.get(`${this.v2BasePath}/thorchain/lastblock`);\n  }\n\n  getNetwork(){\n    return axios.get(`${this.v2BasePath}/network`);\n  }\n\n  getInboundAddresses(){\n    return axios.get(\n      `${this.v2BasePath}/thorchain/inbound_addresses`\n    );\n  }\n\n  getPools() {\n    return axios.get(`${this.v2BasePath}/pools`);\n  }\n  \n\n  getPool(asset) {\n    return axios.get(`${this.v2BasePath}/pool/${asset}`);\n  }\n\n  getMember(address){\n    return axios.get(`${this.v2BasePath}/member/${address}`);\n  }\n\n  getTransaction(txId){\n    // const params = new HttpParams()\n    //   .set('offset', '0')\n    //   .set('limit', '1')\n    //   .set('txid', txId);\n    return axios.get(`${this.v2BasePath}/actions`, {\n      params: {\n        offset: 0,\n        limit: 1,\n        txid: txId\n      }\n    });\n  }\n\n  getThornodeTransaction(hash){\n    return axios.get(\n      `${this._thornodeBasePath}/thorchain/tx/${hash}`\n    );\n  }\n\n  getQueue() {\n    return axios.geMidgardService\n  }\n  \n  getMimir(){\n    return this._mimir$;\n  }\n\n  getThorchainLiquidityProviders(\n    asset\n  ){\n    return this.http.get(\n      `${this._thornodeBasePath}/thorchain/pool/${asset}/liquidity_providers`\n    );\n  }\n}\n",{"ruleId":"46","replacedBy":"47"},{"ruleId":"48","replacedBy":"49"},{"ruleId":"50","severity":1,"message":"51","line":2,"column":17,"nodeType":"52","messageId":"53","endLine":2,"endColumn":26},{"ruleId":"50","severity":1,"message":"54","line":2,"column":28,"nodeType":"52","messageId":"53","endLine":2,"endColumn":37},{"ruleId":"50","severity":1,"message":"55","line":3,"column":29,"nodeType":"52","messageId":"53","endLine":3,"endColumn":35},{"ruleId":"50","severity":1,"message":"56","line":3,"column":46,"nodeType":"52","messageId":"53","endLine":3,"endColumn":50},{"ruleId":"50","severity":1,"message":"57","line":12,"column":10,"nodeType":"52","messageId":"53","endLine":12,"endColumn":25},{"ruleId":"50","severity":1,"message":"58","line":12,"column":27,"nodeType":"52","messageId":"53","endLine":12,"endColumn":37},{"ruleId":"50","severity":1,"message":"59","line":12,"column":39,"nodeType":"52","messageId":"53","endLine":12,"endColumn":50},{"ruleId":"50","severity":1,"message":"60","line":12,"column":52,"nodeType":"52","messageId":"53","endLine":12,"endColumn":63},{"ruleId":"50","severity":1,"message":"61","line":12,"column":77,"nodeType":"52","messageId":"53","endLine":12,"endColumn":85},{"ruleId":"50","severity":1,"message":"62","line":12,"column":97,"nodeType":"52","messageId":"53","endLine":12,"endColumn":112},{"ruleId":"50","severity":1,"message":"63","line":13,"column":13,"nodeType":"52","messageId":"53","endLine":13,"endColumn":18},{"ruleId":"50","severity":1,"message":"64","line":18,"column":8,"nodeType":"52","messageId":"53","endLine":18,"endColumn":17},{"ruleId":"50","severity":1,"message":"65","line":19,"column":8,"nodeType":"52","messageId":"53","endLine":19,"endColumn":12},{"ruleId":"50","severity":1,"message":"66","line":22,"column":10,"nodeType":"52","messageId":"53","endLine":22,"endColumn":18},{"ruleId":"50","severity":1,"message":"67","line":22,"column":20,"nodeType":"52","messageId":"53","endLine":22,"endColumn":31},{"ruleId":"50","severity":1,"message":"68","line":79,"column":11,"nodeType":"52","messageId":"53","endLine":79,"endColumn":29},{"ruleId":"69","severity":1,"message":"70","line":310,"column":15,"nodeType":"71","messageId":"72","endLine":310,"endColumn":33,"fix":"73"},{"ruleId":"50","severity":1,"message":"74","line":1,"column":10,"nodeType":"52","messageId":"53","endLine":1,"endColumn":20},{"ruleId":"50","severity":1,"message":"75","line":3,"column":10,"nodeType":"52","messageId":"53","endLine":3,"endColumn":21},"no-native-reassign",["76"],"no-negated-in-lhs",["77"],"no-unused-vars","'Component' is defined but never used.","Identifier","unusedVar","'useEffect' is defined but never used.","'Header' is defined but never used.","'Grid' is defined but never used.","'AssetRuneNative' is defined but never used.","'BaseAmount' is defined but never used.","'assetAmount' is defined but never used.","'assetToBase' is defined but never used.","'AssetETH' is defined but never used.","'assetFromString' is defined but never used.","'types' is defined but never used.","'BigNumber' is defined but never used.","'Swap' is defined but never used.","'response' is assigned a value but never used.","'setResponse' is assigned a value but never used.","'userEthereumClient' is assigned a value but never used.","new-parens","Missing '()' invoking a constructor.","NewExpression","missing",{"range":"78","text":"79"},"'Observable' is defined but never used.","'shareReplay' is defined but never used.","no-global-assign","no-unsafe-negation",[12134,12134],"()"]