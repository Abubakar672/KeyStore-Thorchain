{"ast":null,"code":"import { __read, __spreadArray } from \"tslib\";\nimport { operate } from '../util/lift';\nimport { OperatorSubscriber } from './OperatorSubscriber';\nimport { innerFrom } from '../observable/from';\nimport { identity } from '../util/identity';\nimport { noop } from '../util/noop';\nimport { popResultSelector } from '../util/args';\nexport function withLatestFrom() {\n  var inputs = [];\n\n  for (var _i = 0; _i < arguments.length; _i++) {\n    inputs[_i] = arguments[_i];\n  }\n\n  var project = popResultSelector(inputs);\n  return operate(function (source, subscriber) {\n    var len = inputs.length;\n    var otherValues = new Array(len);\n    var hasValue = inputs.map(function () {\n      return false;\n    });\n    var ready = false;\n\n    var _loop_1 = function (i) {\n      innerFrom(inputs[i]).subscribe(new OperatorSubscriber(subscriber, function (value) {\n        otherValues[i] = value;\n\n        if (!ready && !hasValue[i]) {\n          hasValue[i] = true;\n          (ready = hasValue.every(identity)) && (hasValue = null);\n        }\n      }, noop));\n    };\n\n    for (var i = 0; i < len; i++) {\n      _loop_1(i);\n    }\n\n    source.subscribe(new OperatorSubscriber(subscriber, function (value) {\n      if (ready) {\n        var values = __spreadArray([value], __read(otherValues));\n\n        subscriber.next(project ? project.apply(void 0, __spreadArray([], __read(values))) : values);\n      }\n    }));\n  });\n}","map":{"version":3,"sources":["../../../../src/internal/operators/withLatestFrom.ts"],"names":[],"mappings":";AACA,SAAS,OAAT,QAAwB,cAAxB;AACA,SAAS,kBAAT,QAAmC,sBAAnC;AACA,SAAS,SAAT,QAA0B,oBAA1B;AACA,SAAS,QAAT,QAAyB,kBAAzB;AACA,SAAS,IAAT,QAAqB,cAArB;AACA,SAAS,iBAAT,QAAkC,cAAlC;AAkDA,OAAM,SAAU,cAAV,GAAwB;AAAO,MAAA,MAAA,GAAA,EAAA;;OAAA,IAAA,EAAA,GAAA,C,EAAA,EAAA,GAAA,SAAA,CAAA,M,EAAA,EAAA,E,EAAgB;AAAhB,IAAA,MAAA,CAAA,EAAA,CAAA,GAAA,SAAA,CAAA,EAAA,CAAA;;;AACnC,MAAM,OAAO,GAAG,iBAAiB,CAAC,MAAD,CAAjC;AAEA,SAAO,OAAO,CAAC,UAAC,MAAD,EAAS,UAAT,EAAmB;AAChC,QAAM,GAAG,GAAG,MAAM,CAAC,MAAnB;AACA,QAAM,WAAW,GAAG,IAAI,KAAJ,CAAU,GAAV,CAApB;AAIA,QAAI,QAAQ,GAAG,MAAM,CAAC,GAAP,CAAW,YAAA;AAAM,aAAA,KAAA;AAAK,KAAtB,CAAf;AAGA,QAAI,KAAK,GAAG,KAAZ;;4BAMS,C,EAAC;AACR,MAAA,SAAS,CAAC,MAAM,CAAC,CAAD,CAAP,CAAT,CAAqB,SAArB,CACE,IAAI,kBAAJ,CACE,UADF,EAEE,UAAC,KAAD,EAAM;AACJ,QAAA,WAAW,CAAC,CAAD,CAAX,GAAiB,KAAjB;;AACA,YAAI,CAAC,KAAD,IAAU,CAAC,QAAQ,CAAC,CAAD,CAAvB,EAA4B;AAE1B,UAAA,QAAQ,CAAC,CAAD,CAAR,GAAc,IAAd;AAKA,WAAC,KAAK,GAAG,QAAQ,CAAC,KAAT,CAAe,QAAf,CAAT,MAAuC,QAAQ,GAAG,IAAlD;AACD;AACF,OAbH,EAgBE,IAhBF,CADF;;;AADF,SAAK,IAAI,CAAC,GAAG,CAAb,EAAgB,CAAC,GAAG,GAApB,EAAyB,CAAC,EAA1B,EAA4B;cAAnB,C;AAqBR;;AAGD,IAAA,MAAM,CAAC,SAAP,CACE,IAAI,kBAAJ,CAAuB,UAAvB,EAAmC,UAAC,KAAD,EAAM;AACvC,UAAI,KAAJ,EAAW;AAET,YAAM,MAAM,GAAA,aAAA,CAAA,CAAI,KAAJ,CAAA,EAAS,MAAA,CAAK,WAAL,CAAT,CAAZ;;AACA,QAAA,UAAU,CAAC,IAAX,CAAgB,OAAO,GAAG,OAAO,CAAA,KAAP,CAAO,KAAA,CAAP,EAAO,aAAA,CAAA,EAAA,EAAA,MAAA,CAAI,MAAJ,CAAA,CAAP,CAAH,GAAwB,MAA/C;AACD;AACF,KAND,CADF;AASD,GAhDa,CAAd;AAiDD","sourceRoot":"","sourcesContent":["import { __read, __spreadArray } from \"tslib\";\nimport { operate } from '../util/lift';\nimport { OperatorSubscriber } from './OperatorSubscriber';\nimport { innerFrom } from '../observable/from';\nimport { identity } from '../util/identity';\nimport { noop } from '../util/noop';\nimport { popResultSelector } from '../util/args';\nexport function withLatestFrom() {\n    var inputs = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        inputs[_i] = arguments[_i];\n    }\n    var project = popResultSelector(inputs);\n    return operate(function (source, subscriber) {\n        var len = inputs.length;\n        var otherValues = new Array(len);\n        var hasValue = inputs.map(function () { return false; });\n        var ready = false;\n        var _loop_1 = function (i) {\n            innerFrom(inputs[i]).subscribe(new OperatorSubscriber(subscriber, function (value) {\n                otherValues[i] = value;\n                if (!ready && !hasValue[i]) {\n                    hasValue[i] = true;\n                    (ready = hasValue.every(identity)) && (hasValue = null);\n                }\n            }, noop));\n        };\n        for (var i = 0; i < len; i++) {\n            _loop_1(i);\n        }\n        source.subscribe(new OperatorSubscriber(subscriber, function (value) {\n            if (ready) {\n                var values = __spreadArray([value], __read(otherValues));\n                subscriber.next(project ? project.apply(void 0, __spreadArray([], __read(values))) : values);\n            }\n        }));\n    });\n}\n//# sourceMappingURL=withLatestFrom.js.map"]},"metadata":{},"sourceType":"module"}