{"ast":null,"code":"// Copyright 2017-2021 @polkadot/api-derive authors & contributors\n// SPDX-License-Identifier: Apache-2.0\nimport { map } from 'rxjs';\nimport { u8aConcat, u8aToHex } from '@polkadot/util';\nimport { blake2AsU8a } from '@polkadot/util-crypto';\nimport { memo } from \"../util/index.js\";\n\nfunction createChildKey({\n  trieIndex\n}) {\n  return u8aToHex(u8aConcat(':child_storage:default:', blake2AsU8a(u8aConcat('crowdloan', trieIndex.toU8a()))));\n}\n\nexport function childKey(instanceId, api) {\n  return memo(instanceId, paraId => api.query.crowdloan.funds(paraId).pipe(map(optInfo => optInfo.isSome ? createChildKey(optInfo.unwrap()) : null)));\n}","map":{"version":3,"sources":["/home/abubakar/Desktop/KeyStore-Thorchain/node_modules/@polkadot/api-derive/crowdloan/childKey.js"],"names":["map","u8aConcat","u8aToHex","blake2AsU8a","memo","createChildKey","trieIndex","toU8a","childKey","instanceId","api","paraId","query","crowdloan","funds","pipe","optInfo","isSome","unwrap"],"mappings":"AAAA;AACA;AACA,SAASA,GAAT,QAAoB,MAApB;AACA,SAASC,SAAT,EAAoBC,QAApB,QAAoC,gBAApC;AACA,SAASC,WAAT,QAA4B,uBAA5B;AACA,SAASC,IAAT,QAAqB,kBAArB;;AAEA,SAASC,cAAT,CAAwB;AACtBC,EAAAA;AADsB,CAAxB,EAEG;AACD,SAAOJ,QAAQ,CAACD,SAAS,CAAC,yBAAD,EAA4BE,WAAW,CAACF,SAAS,CAAC,WAAD,EAAcK,SAAS,CAACC,KAAV,EAAd,CAAV,CAAvC,CAAV,CAAf;AACD;;AAED,OAAO,SAASC,QAAT,CAAkBC,UAAlB,EAA8BC,GAA9B,EAAmC;AACxC,SAAON,IAAI,CAACK,UAAD,EAAaE,MAAM,IAAID,GAAG,CAACE,KAAJ,CAAUC,SAAV,CAAoBC,KAApB,CAA0BH,MAA1B,EAAkCI,IAAlC,CAAuCf,GAAG,CAACgB,OAAO,IAAIA,OAAO,CAACC,MAAR,GAAiBZ,cAAc,CAACW,OAAO,CAACE,MAAR,EAAD,CAA/B,GAAoD,IAAhE,CAA1C,CAAvB,CAAX;AACD","sourcesContent":["// Copyright 2017-2021 @polkadot/api-derive authors & contributors\n// SPDX-License-Identifier: Apache-2.0\nimport { map } from 'rxjs';\nimport { u8aConcat, u8aToHex } from '@polkadot/util';\nimport { blake2AsU8a } from '@polkadot/util-crypto';\nimport { memo } from \"../util/index.js\";\n\nfunction createChildKey({\n  trieIndex\n}) {\n  return u8aToHex(u8aConcat(':child_storage:default:', blake2AsU8a(u8aConcat('crowdloan', trieIndex.toU8a()))));\n}\n\nexport function childKey(instanceId, api) {\n  return memo(instanceId, paraId => api.query.crowdloan.funds(paraId).pipe(map(optInfo => optInfo.isSome ? createChildKey(optInfo.unwrap()) : null)));\n}"]},"metadata":{},"sourceType":"module"}