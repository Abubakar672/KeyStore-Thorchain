{"ast":null,"code":"// Copyright 2017-2021 @polkadot/rpc-core authors & contributors\n// SPDX-License-Identifier: Apache-2.0\nimport { catchError, distinctUntilChanged, publishReplay, refCount, tap } from 'rxjs';\nimport { logger, stringify } from '@polkadot/util';\nimport { refCountDelay } from \"./refCountDelay.js\";\nconst l = logger('drr');\n\nconst CMP = (a, b) => stringify({\n  t: a\n}) === stringify({\n  t: b\n});\n\nconst ERR = error => {\n  l.error(error.message);\n  throw error;\n};\n\nconst NOOP = () => undefined;\n/**\n * Shorthand for distinctUntilChanged(), publishReplay(1) and refCount().\n *\n * @ignore\n * @internal\n */\n\n\nexport const drr = ({\n  delay,\n  skipChange = false,\n  skipTimeout = false\n} = {}) => source$ => source$.pipe(catchError(ERR), skipChange ? tap(NOOP) : distinctUntilChanged(CMP), publishReplay(1), skipTimeout ? refCount() : refCountDelay(delay));","map":{"version":3,"sources":["/home/abubakar/Desktop/KeyStore-Thorchain/node_modules/@polkadot/rpc-core/util/drr.js"],"names":["catchError","distinctUntilChanged","publishReplay","refCount","tap","logger","stringify","refCountDelay","l","CMP","a","b","t","ERR","error","message","NOOP","undefined","drr","delay","skipChange","skipTimeout","source$","pipe"],"mappings":"AAAA;AACA;AACA,SAASA,UAAT,EAAqBC,oBAArB,EAA2CC,aAA3C,EAA0DC,QAA1D,EAAoEC,GAApE,QAA+E,MAA/E;AACA,SAASC,MAAT,EAAiBC,SAAjB,QAAkC,gBAAlC;AACA,SAASC,aAAT,QAA8B,oBAA9B;AACA,MAAMC,CAAC,GAAGH,MAAM,CAAC,KAAD,CAAhB;;AAEA,MAAMI,GAAG,GAAG,CAACC,CAAD,EAAIC,CAAJ,KAAUL,SAAS,CAAC;AAC9BM,EAAAA,CAAC,EAAEF;AAD2B,CAAD,CAAT,KAEfJ,SAAS,CAAC;AACfM,EAAAA,CAAC,EAAED;AADY,CAAD,CAFhB;;AAMA,MAAME,GAAG,GAAGC,KAAK,IAAI;AACnBN,EAAAA,CAAC,CAACM,KAAF,CAAQA,KAAK,CAACC,OAAd;AACA,QAAMD,KAAN;AACD,CAHD;;AAKA,MAAME,IAAI,GAAG,MAAMC,SAAnB;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA,OAAO,MAAMC,GAAG,GAAG,CAAC;AAClBC,EAAAA,KADkB;AAElBC,EAAAA,UAAU,GAAG,KAFK;AAGlBC,EAAAA,WAAW,GAAG;AAHI,IAIhB,EAJe,KAIRC,OAAO,IAAIA,OAAO,CAACC,IAAR,CAAavB,UAAU,CAACa,GAAD,CAAvB,EAA8BO,UAAU,GAAGhB,GAAG,CAACY,IAAD,CAAN,GAAef,oBAAoB,CAACQ,GAAD,CAA3E,EAAkFP,aAAa,CAAC,CAAD,CAA/F,EAAoGmB,WAAW,GAAGlB,QAAQ,EAAX,GAAgBI,aAAa,CAACY,KAAD,CAA5I,CAJf","sourcesContent":["// Copyright 2017-2021 @polkadot/rpc-core authors & contributors\n// SPDX-License-Identifier: Apache-2.0\nimport { catchError, distinctUntilChanged, publishReplay, refCount, tap } from 'rxjs';\nimport { logger, stringify } from '@polkadot/util';\nimport { refCountDelay } from \"./refCountDelay.js\";\nconst l = logger('drr');\n\nconst CMP = (a, b) => stringify({\n  t: a\n}) === stringify({\n  t: b\n});\n\nconst ERR = error => {\n  l.error(error.message);\n  throw error;\n};\n\nconst NOOP = () => undefined;\n/**\n * Shorthand for distinctUntilChanged(), publishReplay(1) and refCount().\n *\n * @ignore\n * @internal\n */\n\n\nexport const drr = ({\n  delay,\n  skipChange = false,\n  skipTimeout = false\n} = {}) => source$ => source$.pipe(catchError(ERR), skipChange ? tap(NOOP) : distinctUntilChanged(CMP), publishReplay(1), skipTimeout ? refCount() : refCountDelay(delay));"]},"metadata":{},"sourceType":"module"}