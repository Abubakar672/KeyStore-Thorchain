{"ast":null,"code":"import { concat } from '../observable/concat';\nimport { take } from './take';\nimport { ignoreElements } from './ignoreElements';\nimport { mapTo } from './mapTo';\nimport { mergeMap } from './mergeMap';\nexport function delayWhen(delayDurationSelector, subscriptionDelay) {\n  if (subscriptionDelay) {\n    return function (source) {\n      return concat(subscriptionDelay.pipe(take(1), ignoreElements()), source.pipe(delayWhen(delayDurationSelector)));\n    };\n  }\n\n  return mergeMap(function (value, index) {\n    return delayDurationSelector(value, index).pipe(take(1), mapTo(value));\n  });\n}","map":{"version":3,"sources":["../../../../src/internal/operators/delayWhen.ts"],"names":[],"mappings":"AAEA,SAAS,MAAT,QAAuB,sBAAvB;AACA,SAAS,IAAT,QAAqB,QAArB;AACA,SAAS,cAAT,QAA+B,kBAA/B;AACA,SAAS,KAAT,QAAsB,SAAtB;AACA,SAAS,QAAT,QAAyB,YAAzB;AAmEA,OAAM,SAAU,SAAV,CACJ,qBADI,EAEJ,iBAFI,EAE+B;AAEnC,MAAI,iBAAJ,EAAuB;AAErB,WAAO,UAAC,MAAD,EAAsB;AAC3B,aAAA,MAAM,CAAC,iBAAiB,CAAC,IAAlB,CAAuB,IAAI,CAAC,CAAD,CAA3B,EAAgC,cAAc,EAA9C,CAAD,EAAoD,MAAM,CAAC,IAAP,CAAY,SAAS,CAAC,qBAAD,CAArB,CAApD,CAAN;AAAwG,KAD1G;AAED;;AAED,SAAO,QAAQ,CAAC,UAAC,KAAD,EAAQ,KAAR,EAAa;AAAK,WAAA,qBAAqB,CAAC,KAAD,EAAQ,KAAR,CAArB,CAAoC,IAApC,CAAyC,IAAI,CAAC,CAAD,CAA7C,EAAkD,KAAK,CAAvD,KAAuD,CAAvD,CAAA;AAA+D,GAAlF,CAAf;AACD","sourceRoot":"","sourcesContent":["import { concat } from '../observable/concat';\nimport { take } from './take';\nimport { ignoreElements } from './ignoreElements';\nimport { mapTo } from './mapTo';\nimport { mergeMap } from './mergeMap';\nexport function delayWhen(delayDurationSelector, subscriptionDelay) {\n    if (subscriptionDelay) {\n        return function (source) {\n            return concat(subscriptionDelay.pipe(take(1), ignoreElements()), source.pipe(delayWhen(delayDurationSelector)));\n        };\n    }\n    return mergeMap(function (value, index) { return delayDurationSelector(value, index).pipe(take(1), mapTo(value)); });\n}\n//# sourceMappingURL=delayWhen.js.map"]},"metadata":{},"sourceType":"module"}