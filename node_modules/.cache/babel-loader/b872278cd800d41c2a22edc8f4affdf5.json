{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n\n    if (enumerableOnly) {\n      symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      });\n    }\n\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n} // Copyright 2017-2021 @polkadot/api-derive authors & contributors\n// SPDX-License-Identifier: Apache-2.0\n\n\nimport { map } from 'rxjs';\nimport { memo } from \"../util/index.js\";\n/**\n * @description Retrieves all the session and era query and calculates specific values on it as the length of the session and eras\n */\n\nexport function info(instanceId, api) {\n  return memo(instanceId, () => api.derive.session.indexes().pipe(map(indexes => {\n    var _api$consts, _api$consts$babe, _api$consts2, _api$consts2$staking;\n\n    const sessionLength = ((_api$consts = api.consts) === null || _api$consts === void 0 ? void 0 : (_api$consts$babe = _api$consts.babe) === null || _api$consts$babe === void 0 ? void 0 : _api$consts$babe.epochDuration) || api.registry.createType('u64', 1);\n    const sessionsPerEra = ((_api$consts2 = api.consts) === null || _api$consts2 === void 0 ? void 0 : (_api$consts2$staking = _api$consts2.staking) === null || _api$consts2$staking === void 0 ? void 0 : _api$consts2$staking.sessionsPerEra) || api.registry.createType('SessionIndex', 1);\n    return _objectSpread(_objectSpread({}, indexes), {}, {\n      eraLength: api.registry.createType('BlockNumber', sessionsPerEra.mul(sessionLength)),\n      isEpoch: !!api.query.babe,\n      sessionLength,\n      sessionsPerEra\n    });\n  })));\n}","map":{"version":3,"sources":["/home/abubakar/Desktop/KeyStore-Thorchain/node_modules/@polkadot/api-derive/session/info.js"],"names":["_defineProperty","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","defineProperty","map","memo","info","instanceId","api","derive","session","indexes","pipe","_api$consts","_api$consts$babe","_api$consts2","_api$consts2$staking","sessionLength","consts","babe","epochDuration","registry","createType","sessionsPerEra","staking","eraLength","mul","isEpoch","query"],"mappings":"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","sourcesContent":["import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n// Copyright 2017-2021 @polkadot/api-derive authors & contributors\n// SPDX-License-Identifier: Apache-2.0\nimport { map } from 'rxjs';\nimport { memo } from \"../util/index.js\";\n/**\n * @description Retrieves all the session and era query and calculates specific values on it as the length of the session and eras\n */\n\nexport function info(instanceId, api) {\n  return memo(instanceId, () => api.derive.session.indexes().pipe(map(indexes => {\n    var _api$consts, _api$consts$babe, _api$consts2, _api$consts2$staking;\n\n    const sessionLength = ((_api$consts = api.consts) === null || _api$consts === void 0 ? void 0 : (_api$consts$babe = _api$consts.babe) === null || _api$consts$babe === void 0 ? void 0 : _api$consts$babe.epochDuration) || api.registry.createType('u64', 1);\n    const sessionsPerEra = ((_api$consts2 = api.consts) === null || _api$consts2 === void 0 ? void 0 : (_api$consts2$staking = _api$consts2.staking) === null || _api$consts2$staking === void 0 ? void 0 : _api$consts2$staking.sessionsPerEra) || api.registry.createType('SessionIndex', 1);\n    return _objectSpread(_objectSpread({}, indexes), {}, {\n      eraLength: api.registry.createType('BlockNumber', sessionsPerEra.mul(sessionLength)),\n      isEpoch: !!api.query.babe,\n      sessionLength,\n      sessionsPerEra\n    });\n  })));\n}"]},"metadata":{},"sourceType":"module"}