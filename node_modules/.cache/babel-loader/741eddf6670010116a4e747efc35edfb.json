{"ast":null,"code":"var decompile = require('../script').decompile;\n\nvar multisig = require('./multisig');\n\nvar nullData = require('./nulldata');\n\nvar pubKey = require('./pubkey');\n\nvar pubKeyHash = require('./pubkeyhash');\n\nvar scriptHash = require('./scripthash');\n\nvar witnessPubKeyHash = require('./witnesspubkeyhash');\n\nvar witnessScriptHash = require('./witnessscripthash');\n\nvar witnessCommitment = require('./witnesscommitment');\n\nvar types = {\n  MULTISIG: 'multisig',\n  NONSTANDARD: 'nonstandard',\n  NULLDATA: 'nulldata',\n  P2PK: 'pubkey',\n  P2PKH: 'pubkeyhash',\n  P2SH: 'scripthash',\n  P2WPKH: 'witnesspubkeyhash',\n  P2WSH: 'witnessscripthash',\n  WITNESS_COMMITMENT: 'witnesscommitment'\n};\n\nfunction classifyOutput(script) {\n  if (witnessPubKeyHash.output.check(script)) return types.P2WPKH;\n  if (witnessScriptHash.output.check(script)) return types.P2WSH;\n  if (pubKeyHash.output.check(script)) return types.P2PKH;\n  if (scriptHash.output.check(script)) return types.P2SH; // XXX: optimization, below functions .decompile before use\n\n  var chunks = decompile(script);\n  if (multisig.output.check(chunks)) return types.MULTISIG;\n  if (pubKey.output.check(chunks)) return types.P2PK;\n  if (witnessCommitment.output.check(chunks)) return types.WITNESS_COMMITMENT;\n  if (nullData.output.check(chunks)) return types.NULLDATA;\n  return types.NONSTANDARD;\n}\n\nfunction classifyInput(script, allowIncomplete) {\n  // XXX: optimization, below functions .decompile before use\n  var chunks = decompile(script);\n  if (pubKeyHash.input.check(chunks)) return types.P2PKH;\n  if (scriptHash.input.check(chunks, allowIncomplete)) return types.P2SH;\n  if (multisig.input.check(chunks, allowIncomplete)) return types.MULTISIG;\n  if (pubKey.input.check(chunks)) return types.P2PK;\n  return types.NONSTANDARD;\n}\n\nfunction classifyWitness(script, allowIncomplete) {\n  // XXX: optimization, below functions .decompile before use\n  var chunks = decompile(script);\n  if (witnessPubKeyHash.input.check(chunks)) return types.P2WPKH;\n  if (witnessScriptHash.input.check(chunks, allowIncomplete)) return types.P2WSH;\n  return types.NONSTANDARD;\n}\n\nmodule.exports = {\n  classifyInput: classifyInput,\n  classifyOutput: classifyOutput,\n  classifyWitness: classifyWitness,\n  multisig: multisig,\n  nullData: nullData,\n  pubKey: pubKey,\n  pubKeyHash: pubKeyHash,\n  scriptHash: scriptHash,\n  witnessPubKeyHash: witnessPubKeyHash,\n  witnessScriptHash: witnessScriptHash,\n  witnessCommitment: witnessCommitment,\n  types: types\n};","map":{"version":3,"sources":["/home/abubakar/Desktop/KeyStore-Thorchain/node_modules/@psf/bitcoincashjs-lib/src/templates/index.js"],"names":["decompile","require","multisig","nullData","pubKey","pubKeyHash","scriptHash","witnessPubKeyHash","witnessScriptHash","witnessCommitment","types","MULTISIG","NONSTANDARD","NULLDATA","P2PK","P2PKH","P2SH","P2WPKH","P2WSH","WITNESS_COMMITMENT","classifyOutput","script","output","check","chunks","classifyInput","allowIncomplete","input","classifyWitness","module","exports"],"mappings":"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","sourcesContent":["var decompile = require('../script').decompile\nvar multisig = require('./multisig')\nvar nullData = require('./nulldata')\nvar pubKey = require('./pubkey')\nvar pubKeyHash = require('./pubkeyhash')\nvar scriptHash = require('./scripthash')\nvar witnessPubKeyHash = require('./witnesspubkeyhash')\nvar witnessScriptHash = require('./witnessscripthash')\nvar witnessCommitment = require('./witnesscommitment')\n\nvar types = {\n  MULTISIG: 'multisig',\n  NONSTANDARD: 'nonstandard',\n  NULLDATA: 'nulldata',\n  P2PK: 'pubkey',\n  P2PKH: 'pubkeyhash',\n  P2SH: 'scripthash',\n  P2WPKH: 'witnesspubkeyhash',\n  P2WSH: 'witnessscripthash',\n  WITNESS_COMMITMENT: 'witnesscommitment'\n}\n\nfunction classifyOutput (script) {\n  if (witnessPubKeyHash.output.check(script)) return types.P2WPKH\n  if (witnessScriptHash.output.check(script)) return types.P2WSH\n  if (pubKeyHash.output.check(script)) return types.P2PKH\n  if (scriptHash.output.check(script)) return types.P2SH\n\n  // XXX: optimization, below functions .decompile before use\n  var chunks = decompile(script)\n  if (multisig.output.check(chunks)) return types.MULTISIG\n  if (pubKey.output.check(chunks)) return types.P2PK\n  if (witnessCommitment.output.check(chunks)) return types.WITNESS_COMMITMENT\n  if (nullData.output.check(chunks)) return types.NULLDATA\n\n  return types.NONSTANDARD\n}\n\nfunction classifyInput (script, allowIncomplete) {\n  // XXX: optimization, below functions .decompile before use\n  var chunks = decompile(script)\n\n  if (pubKeyHash.input.check(chunks)) return types.P2PKH\n  if (scriptHash.input.check(chunks, allowIncomplete)) return types.P2SH\n  if (multisig.input.check(chunks, allowIncomplete)) return types.MULTISIG\n  if (pubKey.input.check(chunks)) return types.P2PK\n\n  return types.NONSTANDARD\n}\n\nfunction classifyWitness (script, allowIncomplete) {\n  // XXX: optimization, below functions .decompile before use\n  var chunks = decompile(script)\n\n  if (witnessPubKeyHash.input.check(chunks)) return types.P2WPKH\n  if (witnessScriptHash.input.check(chunks, allowIncomplete)) return types.P2WSH\n\n  return types.NONSTANDARD\n}\n\nmodule.exports = {\n  classifyInput: classifyInput,\n  classifyOutput: classifyOutput,\n  classifyWitness: classifyWitness,\n  multisig: multisig,\n  nullData: nullData,\n  pubKey: pubKey,\n  pubKeyHash: pubKeyHash,\n  scriptHash: scriptHash,\n  witnessPubKeyHash: witnessPubKeyHash,\n  witnessScriptHash: witnessScriptHash,\n  witnessCommitment: witnessCommitment,\n  types: types\n}\n"]},"metadata":{},"sourceType":"script"}