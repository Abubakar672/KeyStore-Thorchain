{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n\n    if (enumerableOnly) {\n      symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      });\n    }\n\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n} // Copyright 2017-2021 @polkadot/api-derive authors & contributors\n// SPDX-License-Identifier: Apache-2.0\n\n\nimport * as accounts from \"./accounts/index.js\";\nimport * as balances from \"./balances/index.js\";\nimport * as bounties from \"./bounties/index.js\";\nimport * as chain from \"./chain/index.js\";\nimport * as contracts from \"./contracts/index.js\";\nimport * as council from \"./council/index.js\";\nimport * as crowdloan from \"./crowdloan/index.js\";\nimport * as democracy from \"./democracy/index.js\";\nimport * as elections from \"./elections/index.js\";\nimport * as imOnline from \"./imOnline/index.js\";\nimport * as membership from \"./membership/index.js\";\nimport * as parachains from \"./parachains/index.js\";\nimport * as session from \"./session/index.js\";\nimport * as society from \"./society/index.js\";\nimport * as staking from \"./staking/index.js\";\nimport * as technicalCommittee from \"./technicalCommittee/index.js\";\nimport * as treasury from \"./treasury/index.js\";\nimport * as tx from \"./tx/index.js\";\nexport { packageInfo } from \"./packageInfo.js\";\nexport * from \"./type/index.js\";\nexport const derive = {\n  accounts,\n  balances,\n  bounties,\n  chain,\n  contracts,\n  council,\n  crowdloan,\n  democracy,\n  elections,\n  imOnline,\n  membership,\n  parachains,\n  session,\n  society,\n  staking,\n  technicalCommittee,\n  treasury,\n  tx\n}; // Enable derive only if some of these modules are available\n\nconst checks = {\n  contracts: {\n    instances: ['contracts']\n  },\n  council: {\n    instances: ['council'],\n    withDetect: true\n  },\n  crowdloan: {\n    instances: ['crowdloan']\n  },\n  democracy: {\n    instances: ['democracy']\n  },\n  elections: {\n    instances: ['phragmenElection', 'electionsPhragmen', 'elections', 'council'],\n    withDetect: true\n  },\n  imOnline: {\n    instances: ['imOnline']\n  },\n  membership: {\n    instances: ['membership']\n  },\n  parachains: {\n    instances: ['parachains', 'registrar']\n  },\n  session: {\n    instances: ['session']\n  },\n  society: {\n    instances: ['society']\n  },\n  staking: {\n    instances: ['staking']\n  },\n  technicalCommittee: {\n    instances: ['technicalCommittee'],\n    withDetect: true\n  },\n  treasury: {\n    instances: ['treasury']\n  }\n};\n/**\n * Returns an object that will inject `api` into all the functions inside\n * `allSections`, and keep the object architecture of `allSections`.\n */\n\n/** @internal */\n\nfunction injectFunctions(instanceId, api, allSections) {\n  const queryKeys = Object.keys(api.query);\n  const specName = api.runtimeVersion.specName.toString();\n  return Object.keys(allSections).filter(sectionName => !checks[sectionName] || checks[sectionName].instances.some(q => queryKeys.includes(q)) || checks[sectionName].withDetect && checks[sectionName].instances.some(q => (api.registry.getModuleInstances(specName, q) || []).some(q => queryKeys.includes(q)))).reduce((derives, sectionName) => {\n    const section = allSections[sectionName];\n    derives[sectionName] = Object.entries(section).reduce((methods, [methodName, creator]) => {\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment,@typescript-eslint/no-unsafe-call\n      methods[methodName] = creator(instanceId, api);\n      return methods;\n    }, {});\n    return derives;\n  }, {});\n} // FIXME The return type of this function should be {...ExactDerive, ...DeriveCustom}\n// For now we just drop the custom derive typings\n\n/** @internal */\n\n\nexport function decorateDerive(instanceId, api, custom = {}) {\n  return _objectSpread(_objectSpread({}, injectFunctions(instanceId, api, derive)), injectFunctions(instanceId, api, custom));\n}","map":{"version":3,"sources":["/home/abubakar/Desktop/KeyStore-Thorchain/node_modules/@polkadot/api-derive/bundle.js"],"names":["_defineProperty","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","defineProperty","accounts","balances","bounties","chain","contracts","council","crowdloan","democracy","elections","imOnline","membership","parachains","session","society","staking","technicalCommittee","treasury","tx","packageInfo","derive","checks","instances","withDetect","injectFunctions","instanceId","api","allSections","queryKeys","query","specName","runtimeVersion","toString","sectionName","some","q","includes","registry","getModuleInstances","reduce","derives","section","entries","methods","methodName","creator","decorateDerive","custom"],"mappings":"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","sourcesContent":["import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n// Copyright 2017-2021 @polkadot/api-derive authors & contributors\n// SPDX-License-Identifier: Apache-2.0\nimport * as accounts from \"./accounts/index.js\";\nimport * as balances from \"./balances/index.js\";\nimport * as bounties from \"./bounties/index.js\";\nimport * as chain from \"./chain/index.js\";\nimport * as contracts from \"./contracts/index.js\";\nimport * as council from \"./council/index.js\";\nimport * as crowdloan from \"./crowdloan/index.js\";\nimport * as democracy from \"./democracy/index.js\";\nimport * as elections from \"./elections/index.js\";\nimport * as imOnline from \"./imOnline/index.js\";\nimport * as membership from \"./membership/index.js\";\nimport * as parachains from \"./parachains/index.js\";\nimport * as session from \"./session/index.js\";\nimport * as society from \"./society/index.js\";\nimport * as staking from \"./staking/index.js\";\nimport * as technicalCommittee from \"./technicalCommittee/index.js\";\nimport * as treasury from \"./treasury/index.js\";\nimport * as tx from \"./tx/index.js\";\nexport { packageInfo } from \"./packageInfo.js\";\nexport * from \"./type/index.js\";\nexport const derive = {\n  accounts,\n  balances,\n  bounties,\n  chain,\n  contracts,\n  council,\n  crowdloan,\n  democracy,\n  elections,\n  imOnline,\n  membership,\n  parachains,\n  session,\n  society,\n  staking,\n  technicalCommittee,\n  treasury,\n  tx\n};\n// Enable derive only if some of these modules are available\nconst checks = {\n  contracts: {\n    instances: ['contracts']\n  },\n  council: {\n    instances: ['council'],\n    withDetect: true\n  },\n  crowdloan: {\n    instances: ['crowdloan']\n  },\n  democracy: {\n    instances: ['democracy']\n  },\n  elections: {\n    instances: ['phragmenElection', 'electionsPhragmen', 'elections', 'council'],\n    withDetect: true\n  },\n  imOnline: {\n    instances: ['imOnline']\n  },\n  membership: {\n    instances: ['membership']\n  },\n  parachains: {\n    instances: ['parachains', 'registrar']\n  },\n  session: {\n    instances: ['session']\n  },\n  society: {\n    instances: ['society']\n  },\n  staking: {\n    instances: ['staking']\n  },\n  technicalCommittee: {\n    instances: ['technicalCommittee'],\n    withDetect: true\n  },\n  treasury: {\n    instances: ['treasury']\n  }\n};\n/**\n * Returns an object that will inject `api` into all the functions inside\n * `allSections`, and keep the object architecture of `allSections`.\n */\n\n/** @internal */\n\nfunction injectFunctions(instanceId, api, allSections) {\n  const queryKeys = Object.keys(api.query);\n  const specName = api.runtimeVersion.specName.toString();\n  return Object.keys(allSections).filter(sectionName => !checks[sectionName] || checks[sectionName].instances.some(q => queryKeys.includes(q)) || checks[sectionName].withDetect && checks[sectionName].instances.some(q => (api.registry.getModuleInstances(specName, q) || []).some(q => queryKeys.includes(q)))).reduce((derives, sectionName) => {\n    const section = allSections[sectionName];\n    derives[sectionName] = Object.entries(section).reduce((methods, [methodName, creator]) => {\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment,@typescript-eslint/no-unsafe-call\n      methods[methodName] = creator(instanceId, api);\n      return methods;\n    }, {});\n    return derives;\n  }, {});\n} // FIXME The return type of this function should be {...ExactDerive, ...DeriveCustom}\n// For now we just drop the custom derive typings\n\n/** @internal */\n\n\nexport function decorateDerive(instanceId, api, custom = {}) {\n  return _objectSpread(_objectSpread({}, injectFunctions(instanceId, api, derive)), injectFunctions(instanceId, api, custom));\n}"]},"metadata":{},"sourceType":"module"}